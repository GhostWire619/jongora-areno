{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title class="translate" data-en="Confirm Your Email" data-sw="Hakiki barua pepe">Confirm Your Email</title>

    <link rel="stylesheet" href="{% static 'css/shopping.css' %}">
    <link rel="stylesheet" href="{% static 'css/shopping2.css' %}">
    <link rel="stylesheet" href="{% static 'css/darkmode.css' %}">
    <link rel="stylesheet" href="{% static 'css/productpage.css' %}">
    <link rel="stylesheet" href="{% static 'css/register.css' %}">
    <link rel="stylesheet" href="{% static 'css/submitloader.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">

    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <section>

        <main>
        <!--search bar-->
        <div class="productpagehead loginhead">
            <div class="product-detail-head">
               
                <div class="return" onclick="goBack()">
                    <i class="fa-solid fa-angle-left"></i>
                </div>
                <div class="product-nav-head">
                    <h4 style="color: black;" class="translate" data-en="Confirm Your Email" data-sw="Hakiki barua pepe">Confirm Your Email</h4>
                </div>
            </div>
           
            
            
        </div>
        
         <!--register form main-->
            
         <div class="register-main" style="height: 88vh; ustify-content: center; align-items: center;">
            <div class="login-form">
                    <form class="form_container" action="" method="POST" onsubmit="return submitForm()">
                        {% csrf_token %}
                        <div class="title_container">
                          <p class="title translate" data-en="Confirm Before Proceeding!" data-sw="Hakiki Email Yako!">Confirm Before Proceeding!</p>
                          <span class="subtitle translate" data-en="An email was sent to you, please enter the code sent to prove your identity." data-sw="Barua pepe imetumwa kwako, tafadhali ingiza nambari iliyotumwa kuthibitisha utambulisho wako.">An email was sent to you, please enter the code sent to prove your identity.</span>
                        </div>
                        {% if messages %}
                        {% for message in messages %}
                        {% if message.tags == 'error' %}
                        <div class="log-error">
                            <div class="log-error-bar"></div>
                            <div class="log-error-contents">
                                <p class="translate" data-en="Wrong Verification Numbers! please try Again" data-sw="Namba zimekosewa! Tafadhari jaribu tena!">{{ message }}</p>
                            </div>
                        </div>
                        {% endif %}
                        {% endfor %}
                        {% endif %}
                        <div class="input_container">
                          <input placeholder="" title="Input email" name="token" type="number" class="input_field" id="email_field" required>
                        </div>
                        <button title="Sign In" type="submit" class="sign-in_btn" id="submitBtn" style="margin-top: 20px;">
                          <span class="translate" data-en="Confirm" data-sw="Hakiki">Confirm</span>
                        </button>
                        <p class="signin-link"><span class="translate" data-en="You didn't receive the code ?" data-sw="Haukupata Nambari ?">You didn't receive the code ?</span> <a href="{% url 'signup' %}" class="translate" data-en="Try Again" data-sw="Jaribu Tena">Try Again</a> </p>
                        
                        <a href="{% url 'aboutus' %}"><p class="note translate" data-en="Terms and conditions &amp; Privacy policies" data-sw="Masharti na Hali za Matumizi &amp; Sera za faragha">Terms and conditions &amp; Privacy policies</p></a>
                      
                    </form>

                    {% if messages %}
                    {% for message in messages %}
                    {% if message.tags == 'success' %}
                    <div class="info-card"> 
                        <div class="card"> 
                            <div class="header"> 
                            <div class="image">
                                    <img src="{% static 'icons/icons8-success-500.png' %}" alt="">
                            </div> 
                                <div class="content">
                                <span class="title translate"  data-en="Success!" data-sw="Umefanikiwa!">Success!</span> 
                                <p class="message translate" data-en="Your Email is Verified Successfuly! Log in to your account." data-sw="Umefanikiwa kuhakiki email yako! Ingia kwenye account yako sasa.">
                                    {{ message }}
                                </p> 
                                </div> 
                                <div class="actions">
                                    <a href="{% url 'login' %}"><button type="button" class="history"><span class="translate" data-en="Log In" data-sw="Ingia">Log In</span></button></a>
                                    </div> 
                                </div> 
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                    {% endif %}





                      <!-- submit loader-->
                        <div id="loader">
                            <svg class="pl"  width="240" height="240" viewBox="0 0 240 240">
                                <circle class="pl__ring pl__ring--a" cx="120" cy="120" r="105" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 660" stroke-dashoffset="-330" stroke-linecap="round"></circle>
                                <circle class="pl__ring pl__ring--b" cx="120" cy="120" r="35" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 220" stroke-dashoffset="-110" stroke-linecap="round"></circle>
                                <circle class="pl__ring pl__ring--c" cx="85" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
                                <circle class="pl__ring pl__ring--d" cx="155" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
                            </svg>
                            <span><b class="translate" data-en="Verifying." data-sw="Unaunganishwa.">Verifying.</b> <br> <span><p class="translate" data-en="Please wait..." data-sw="Tafadhari subiri..">Please wait...</p></span></span>
                        </div>

                    
            </div>
            
         </div>

        <!--email confirmation-->
        <div class="emailconfirmdiv">
            <div class="card">
                <button class="confirmclose">
                    <i class="fa-solid fa-x" ></i>
                </button>
                <div class="confirmemailimageicon">
                    <img src="{% static 'icons/icons8-info-100.png' %}" alt="">
                </div>
                <span class="card__title translate"  data-en="Confirm Your Email!" data-sw="Hakiki Barua pepe!">Confirm Your Email!</span>
                <p class="card__content translate" data-en="A Link to reset your password will be sent to your email and as an sms via your phone number registered." data-sw="Utatumiwa ujumbe wa kubadilisha nenosiri kwa kupitia email yako na namba ya simu uliyosajili.">
                    A Link to reset your password will be sent to your email and as an sms via your phone number registered.
                </p>
                <form action="{% url 'emailconfirmation' %}" method="POST">
                    {% csrf_token %}
                <div class="card__form">
                    <input name="email" placeholder="@email.com" type="email" required>
                    <button class="sign-up" type="submit"><span class="translate" data-en="Confirm" data-sw="Hakiki">Confirm</span></button>
                </div>
                </form>
            </div>
        </div>


        

        </main>
        













    </section>

    <script>
        const loginpassword = document.getElementById('loginpassword');
        const viewcode = document.getElementById('viewcode');
        const hidecode = document.getElementById('hidecode');

        viewcode.addEventListener("click", ()=>{
            loginpassword.type = 'text';
            viewcode.style.display = 'none'
            hidecode.style.display = 'flex'
        })
        hidecode.addEventListener("click", ()=>{
            loginpassword.type = 'password';
            viewcode.style.display = 'flex'
            hidecode.style.display = 'none'
        })

       


        function submitForm() {
            var loader = document.getElementById("loader");
            loader.style.display = "flex"; 
            return true; // Prevent the form from submitting automatically
        }



    </script>
    <script src="{% static 'js/shoppingpage.js' %}" ></script>
    <script src="{% static 'js/language.js' %}" ></script>
    
    
</body>
</html>